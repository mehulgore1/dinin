{"ast":null,"code":"var _jsxFileName = \"/Users/mehulgore/projects/dinin/client/src/restaurant/EditMenuItem.js\";\nimport React, { useState, useReducer } from \"react\";\nimport \"../App.css\";\nimport { Modal } from \"react-bootstrap\";\nimport * as firebase from \"firebase\";\n\nconst EditMenuItem = props => {\n  const [modalShow, setModalShow] = useState(false);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(EditMenuItemDetailsModal, {\n    item_key: props.item_key,\n    item: props.item,\n    stage: props.stage,\n    restaurant: props.restaurant,\n    onHide: () => setModalShow(false),\n    setModalShow: setModalShow,\n    show: modalShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shadow card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 15\n    }\n  }, props.item.title)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, props.item.description), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 15\n    }\n  }, \" $\"), \" \", props.item.price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-around\",\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    onClick: () => setModalShow(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Edit\")))));\n};\n\nfunction EditMenuItemDetailsModal(props) {\n  const [title, setTitle] = useState(props.item.title);\n  const [description, setDescription] = useState(props.item.description);\n  const [price, setPrice] = useState(props.item.price);\n  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n  const database = firebase.database();\n  const itemRef = database.ref(props.restaurant).child(\"menu\").child(props.stage).child(\"items\").child(props.item_key);\n\n  const saveItem = () => {\n    itemRef.update({\n      description: description,\n      price: price,\n      title: title\n    });\n    props.setModalShow(false);\n  };\n\n  const deleteItem = () => {\n    itemRef.remove();\n    props.setModalShow(false);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, props.item.title, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger ml-3\",\n    onClick: deleteItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \" Title \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control mt-2\",\n    type: \"text\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \" Description \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control mt-2\",\n    type: \"textarea\",\n    value: description,\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \" Price \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control mt-2\",\n    type: \"text\",\n    value: price,\n    onChange: e => setPrice(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-around mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg btn-dark mt-3\",\n    onClick: saveItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"Save\"))));\n}\n\nexport default EditMenuItem;","map":{"version":3,"sources":["/Users/mehulgore/projects/dinin/client/src/restaurant/EditMenuItem.js"],"names":["React","useState","useReducer","Modal","firebase","EditMenuItem","props","modalShow","setModalShow","item_key","item","stage","restaurant","title","description","price","e","stopPropagation","EditMenuItemDetailsModal","setTitle","setDescription","setPrice","ignored","forceUpdate","x","database","itemRef","ref","child","saveItem","update","deleteItem","remove","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useReducer } from \"react\";\nimport \"../App.css\";\nimport { Modal } from \"react-bootstrap\";\nimport * as firebase from \"firebase\";\n\nconst EditMenuItem = props => {\n  const [modalShow, setModalShow] = useState(false);\n\n  return (\n    <div>\n      <EditMenuItemDetailsModal\n        item_key={props.item_key}\n        item={props.item}\n        stage={props.stage}\n        restaurant={props.restaurant}\n        onHide={() => setModalShow(false)}\n        setModalShow={setModalShow}\n        show={modalShow}\n      />\n      <div className=\"shadow card\">\n        <div className=\"card-body\">\n          <div className=\"col\">\n            <div>\n              {\" \"}\n              <strong>{props.item.title}</strong>\n            </div>\n            <div>{props.item.description}</div>\n            <div>\n              <strong> $</strong> {props.item.price}\n            </div>\n          </div>\n          <div\n            className=\"d-flex justify-content-around\"\n            onClick={e => e.stopPropagation()}\n          >\n            <button\n              className=\"btn btn-warning\"\n              onClick={() => setModalShow(true)}\n            >\n              Edit\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction EditMenuItemDetailsModal(props) {\n  const [title, setTitle] = useState(props.item.title);\n  const [description, setDescription] = useState(props.item.description);\n  const [price, setPrice] = useState(props.item.price);\n  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n  const database = firebase.database();\n  const itemRef = database\n    .ref(props.restaurant)\n    .child(\"menu\")\n    .child(props.stage)\n    .child(\"items\")\n    .child(props.item_key);\n\n  const saveItem = () => {\n    itemRef.update({\n      description: description,\n      price: price,\n      title: title\n    });\n    props.setModalShow(false);\n  };\n\n  const deleteItem = () => {\n    itemRef.remove();\n    props.setModalShow(false);\n  };\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {props.item.title}\n          <button className=\"btn btn-danger ml-3\" onClick={deleteItem}>\n            Delete\n          </button>\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          <h4> Title </h4>\n          <input\n            className=\"form-control mt-2\"\n            type=\"text\"\n            value={title}\n            onChange={e => setTitle(e.target.value)}\n          />\n        </div>\n        <div>\n          <h4> Description </h4>\n          <textarea\n            className=\"form-control mt-2\"\n            type=\"textarea\"\n            value={description}\n            onChange={e => setDescription(e.target.value)}\n          />\n        </div>\n        <div>\n          <h4> Price </h4>\n          <input\n            className=\"form-control mt-2\"\n            type=\"text\"\n            value={price}\n            onChange={e => setPrice(e.target.value)}\n          />\n        </div>\n        <div className=\"d-flex justify-content-around mt-3\">\n          <button className=\"btn btn-lg btn-dark mt-3\" onClick={saveItem}>\n            Save\n          </button>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default EditMenuItem;\n"]},"metadata":{},"sourceType":"module"}