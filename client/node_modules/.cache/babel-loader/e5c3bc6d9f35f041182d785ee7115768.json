{"ast":null,"code":"var _jsxFileName = \"/Users/mehulgore/projects/dinin/client/src/MenuItem.js\";\nimport React, { useState, useEffect, Fragment, useReducer } from \"react\";\nimport \"./App.css\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nconst MenuItem = props => {\n  const [modalShow, setModalShow] = useState(false);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shadow card\",\n    onClick: () => setModalShow(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 15\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }\n  }, props.description), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 15\n    }\n  }, \" $\"), \" \", props.price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => e.stopPropagation(),\n    className: \"d-flex justify-content-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ItemDetailsModal, {\n    id: props.id,\n    title: props.title,\n    category: props.category,\n    price: props.price,\n    show: modalShow,\n    tableUsers: props.tableUsers,\n    onHide: () => setModalShow(false),\n    description: props.description,\n    sendToTable: props.sendToTable,\n    setModalShow: setModalShow,\n    userId: props.userId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nfunction ItemDetailsModal(props) {\n  const [quantity, setQuantity] = useState(1);\n  const [notes, setNotes] = useState(\"\");\n  const [isSplit, setIsSplit] = useState(false);\n  const [splitSeats, setSplitSeats] = useState({});\n  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n  useEffect(() => {\n    setSplitSeats(props.tableUsers);\n  }, [props]);\n\n  const incQuantity = () => {\n    var newQuantity = quantity + 1;\n    setQuantity(newQuantity);\n  };\n\n  const decQuantity = () => {\n    var newQuantity = quantity - 1;\n\n    if (newQuantity < 1) {\n      newQuantity = 1;\n    }\n\n    setQuantity(newQuantity);\n  };\n\n  const toggleSplit = () => {\n    setIsSplit(isSplit => !isSplit);\n  };\n\n  const toggleSplitSeat = seat => {\n    var tempSplitSeats = splitSeats;\n    tempSplitSeats[seat][\"taken\"] = !tempSplitSeats[seat][\"taken\"];\n    setSplitSeats(tempSplitSeats);\n    forceUpdate();\n  };\n\n  const handleSendToTable = () => {\n    var tempSplitSeats = splitSeats;\n    var validSplit = false;\n    var seats = [];\n\n    for (var seat in splitSeats) {\n      if (splitSeats[seat][\"taken\"] && splitSeats[seat][\"user_id\"] != props.userId) {\n        // seat selected, split is valid\n        validSplit = true;\n      }\n    }\n\n    validSplit = validSplit && isSplit;\n\n    for (var seat in splitSeats) {\n      if (validSplit && splitSeats[seat][\"user_id\"] == props.userId) {\n        // valid split, need to add current user\n        tempSplitSeats[seat][\"taken\"] = true;\n      }\n    }\n\n    var splits = validSplit ? tempSplitSeats : null;\n    props.setModalShow(false);\n    props.sendToTable(props.id, props.title, notes, props.category, quantity, props.price, splits);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"contained-modal-title-vcenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \" \", props.description), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control mt-2\",\n    type: \"text\",\n    value: notes,\n    placeholder: \"Add Notes, Customize...\",\n    onChange: e => setNotes(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => decQuantity(),\n    className: \"btn btn-dark mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, \" \", \"-\", \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-self-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, \" \", quantity, \" \")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => incQuantity(),\n    className: \"btn btn-dark ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, \" \", \"+\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggleSplit,\n    className: \"btn btn-warning btn-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, isSplit ? \"Remove Split\" : \"Split\")), isSplit ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \" \", Object.keys(splitSeats).map(seat => {\n    var active = splitSeats[seat][\"taken\"] ? \"active\" : \"\";\n\n    if (splitSeats[seat][\"user_id\"] == props.userId) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: seat,\n      className: \"list-group-item \" + active,\n      onClick: () => toggleSplitSeat(seat),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, \" \", splitSeats[seat][\"name\"], \" \");\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-lg btn-dark btn-block mt-3\",\n    onClick: handleSendToTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, \"Add \", quantity, \" to Cart\"))));\n}\n\nexport default MenuItem;","map":{"version":3,"sources":["/Users/mehulgore/projects/dinin/client/src/MenuItem.js"],"names":["React","useState","useEffect","Fragment","useReducer","Modal","Button","MenuItem","props","modalShow","setModalShow","title","description","price","e","stopPropagation","id","category","tableUsers","sendToTable","userId","ItemDetailsModal","quantity","setQuantity","notes","setNotes","isSplit","setIsSplit","splitSeats","setSplitSeats","ignored","forceUpdate","x","incQuantity","newQuantity","decQuantity","toggleSplit","toggleSplitSeat","seat","tempSplitSeats","handleSendToTable","validSplit","seats","splits","target","value","Object","keys","map","active"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment, useReducer } from \"react\";\nimport \"./App.css\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nconst MenuItem = props => {\n  const [modalShow, setModalShow] = useState(false);\n\n  return (\n    <div>\n      <div className=\"shadow card\" onClick={() => setModalShow(true)}>\n        <div className=\"card-body\">\n          <div className=\"col\">\n            <div>\n              {\" \"}\n              <strong>{props.title}</strong>\n            </div>\n            <div>{props.description}</div>\n            <div>\n              <strong> $</strong> {props.price}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div></div>\n            <div\n              onClick={e => e.stopPropagation()}\n              className=\"d-flex justify-content-around\"\n            >\n              <ItemDetailsModal\n                id={props.id}\n                title={props.title}\n                category={props.category}\n                price={props.price}\n                show={modalShow}\n                tableUsers={props.tableUsers}\n                onHide={() => setModalShow(false)}\n                description={props.description}\n                sendToTable={props.sendToTable}\n                setModalShow={setModalShow}\n                userId={props.userId}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction ItemDetailsModal(props) {\n  const [quantity, setQuantity] = useState(1);\n  const [notes, setNotes] = useState(\"\");\n  const [isSplit, setIsSplit] = useState(false);\n  const [splitSeats, setSplitSeats] = useState({});\n  const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n    setSplitSeats(props.tableUsers);\n  }, [props]);\n\n  const incQuantity = () => {\n    var newQuantity = quantity + 1;\n    setQuantity(newQuantity);\n  };\n\n  const decQuantity = () => {\n    var newQuantity = quantity - 1;\n    if (newQuantity < 1) {\n      newQuantity = 1;\n    }\n    setQuantity(newQuantity);\n  };\n\n  const toggleSplit = () => {\n    setIsSplit(isSplit => !isSplit);\n  };\n\n  const toggleSplitSeat = seat => {\n    var tempSplitSeats = splitSeats;\n    tempSplitSeats[seat][\"taken\"] = !tempSplitSeats[seat][\"taken\"];\n    setSplitSeats(tempSplitSeats);\n    forceUpdate();\n  };\n\n  const handleSendToTable = () => {\n    var tempSplitSeats = splitSeats;\n    var validSplit = false;\n    var seats = [];\n    for (var seat in splitSeats) {\n      if (\n        splitSeats[seat][\"taken\"] &&\n        splitSeats[seat][\"user_id\"] != props.userId\n      ) {\n        // seat selected, split is valid\n        validSplit = true;\n      }\n    }\n    validSplit = validSplit && isSplit;\n    for (var seat in splitSeats) {\n      if (validSplit && splitSeats[seat][\"user_id\"] == props.userId) {\n        // valid split, need to add current user\n        tempSplitSeats[seat][\"taken\"] = true;\n      }\n    }\n    var splits = validSplit ? tempSplitSeats : null;\n    props.setModalShow(false);\n    props.sendToTable(\n      props.id,\n      props.title,\n      notes,\n      props.category,\n      quantity,\n      props.price,\n      splits\n    );\n  };\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {props.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div>\n          {\" \"}\n          <p> {props.description}</p>{\" \"}\n        </div>\n        <div>\n          <input\n            className=\"form-control mt-2\"\n            type=\"text\"\n            value={notes}\n            placeholder=\"Add Notes, Customize...\"\n            onChange={e => setNotes(e.target.value)}\n          />\n        </div>\n        <div className=\"d-flex justify-content-center mt-3\">\n          <button onClick={() => decQuantity()} className=\"btn btn-dark mr-3\">\n            {\" \"}\n            -{\" \"}\n          </button>\n          <div className=\"align-self-center\">\n            {\" \"}\n            <h3> {quantity} </h3>\n          </div>\n          <button onClick={() => incQuantity()} className=\"btn btn-dark ml-3\">\n            {\" \"}\n            +{\" \"}\n          </button>\n        </div>\n        <div className=\"d-flex justify-content-center mt-3 mb-3\">\n          <button onClick={toggleSplit} className=\"btn btn-warning btn-lg\">\n            {isSplit ? \"Remove Split\" : \"Split\"}\n          </button>\n        </div>\n        {isSplit ? (\n          <ul className=\"list-group\">\n            {\" \"}\n            {Object.keys(splitSeats).map(seat => {\n              var active = splitSeats[seat][\"taken\"] ? \"active\" : \"\";\n              if (splitSeats[seat][\"user_id\"] == props.userId) {\n                return null;\n              }\n              return (\n                <li\n                  key={seat}\n                  className={\"list-group-item \" + active}\n                  onClick={() => toggleSplitSeat(seat)}\n                >\n                  {\" \"}\n                  {splitSeats[seat][\"name\"]}{\" \"}\n                </li>\n              );\n            })}\n          </ul>\n        ) : null}\n        <div className=\"d-flex justify-content-center mt-3\">\n          <button\n            className=\"btn btn-lg btn-dark btn-block mt-3\"\n            onClick={handleSendToTable}\n          >\n            Add {quantity} to Cart\n          </button>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default MenuItem;\n"]},"metadata":{},"sourceType":"module"}